

    <!-- ##### Breadcumb Area Start ##### -->
    <div class="breadcumb_area bg-img" style="background-image: url(img/bg-img/breadcumb.jpg);">
        <div class="container h-100">
            <div class="row h-100 align-items-center">
                <div class="col-12">
                    <div class="page-title text-center">
                        <h2>Checkout</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
  

                        

<!-- Large modal -->
<button type="button" class="btn btn-dark" data-toggle="modal" data-target=".bd-example-modal-lg" style="width: 475px; margin-top: 2rem;">Choose An Address</button>

<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
     {{#each alladdress}}
    <div class="modal-content">
      
        
            <form id="form-addAddress" method="post" action="/add-default-address" class=" m-5">

               
                <!-- 2 column grid layout with text inputs for the first and last names -->
                <div class="form-check">
                    
                    <input class="form-check-input" type="radio" name="addressId" value="{{this.addresses._id}}"
                        id="flexRadioDefault1" style="width: 16px;
    height: 14px;
    margin-right: 10px;" required >

                        <input type="text" name="Name" value=" {{this.addresses.Name}}" hidden>
                        <input type="text" name="Email" value=" {{this.addresses.Email}}" hidden>
                        <input type="text" name="address" value="{{this.addresses.address}}" hidden>
                         <input type="text" name="pincode" value="{{this.addresses.pincode}}" hidden>
                         <input type="text" name="city" value="{{this.addresses.city}}" hidden>
                          <input type="text" name="Number" value="{{this.addresses.Number}}" hidden>


                    <label class="form-check-label" for="flexRadioDefault1">
                        <p>
                            
                            {{this.addresses.Name}} <br> {{this.addresses.Email}} <br>{{this.addresses.address}} <br>{{this.addresses.pincode}}
                        </p>
                    </label>
                </div>
                <!-- Message input -->
                <button type="submit" class="primary-btn btn-lg btn-block">
                    Select
                </button>


            </form>
                

       

    </div>
     {{/each}}
  </div>
</div>

    <!-- ##### Checkout Area Start ##### -->
    <form id="checkout-form" >
    <div class="checkout_area section-padding-70">
        <div class="container">
            <div class="row">

                <div class="col-12 col-md-6" style="margin-top: -80px;">
                    <div class="checkout_details_area mt-50 clearfix">

                        <div class="cart-page-heading mb-30">
                            <h5 style="font-family: 'Times New Roman', Times, serif;">Shipping Address</h5>
                        </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="first_name">First Name <span>*</span></label>
                                    <input type="text" class="form-control" id="first_name" name="firstname" value="{{address.Name}}" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="last_name">Last Name <span>*</span></label>
                                    <input type="text" class="form-control" id="last_name" name="lastname" value="" required >
                                </div>
                                
                               
                                <div class="col-12 mb-3">
                                    <label for="street_address">Address <span>*</span></label>
                                    <input type="text" class="form-control mb-3" id="street_address" name="address" value="{{address.address}}">
                                    <input type="text" class="form-control" id="street_address2" value="">
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="postcode">Postcode <span>*</span></label>
                                    <input type="text" class="form-control" id="postcode" name="postcode" value="{{address.pincode}}">
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="city">Town/City <span>*</span></label>
                                    <input type="text" class="form-control" name="city" id="city" value="{{address.city}}">
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="state">Province <span>*</span></label>
                                    <input type="text" class="form-control" id="state"  value="">
                                </div>
                                <div class="col-12 mb-3">
                                    <label for="phone_number">Phone No <span>*</span></label>
                                    <input type="tel" class="form-control"  name="mobilenumber" id="mobilenumber" min="0" value="{{address.Number}}">
                                </div>
                                <div class="col-12 mb-4">
                                    <label for="email_address">Email Address <span>*</span></label>
                                    <input type="email" class="form-control" name="email" id="email_address" value="{{address.Email}}">
                                </div>

                                <div class="col-12">
                                    <div class="custom-control custom-checkbox d-block mb-2">
                                        <input type="checkbox" class="custom-control-input" id="customCheck1">
                                        <label class="custom-control-label" for="customCheck1">Terms and conitions</label>
                                    </div>
                                    
                                    <div class="custom-control custom-checkbox d-block">
                                        <input type="checkbox" class="custom-control-input" id="customCheck3">
                                        <label class="custom-control-label" for="customCheck3">Subscribe to our newsletter</label>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
                
                
                
                <div class="col-12 col-md-6 col-lg-5 ml-lg-auto">
                 
                    <div class="order-details-confirmation">
                        <div class="cart-page-heading">
                            <h5 style="font-family: 'Times New Roman', Times, serif;">Your Order</h5>
                            <p style="font-family: 'Times New Roman', Times, serif;">The Details</p>
                        </div>
                        
                         
                        <div>
                        <ul class="order-details-form mb-4">
                            <li><span>Product</span><span>Price</span> <span>Total</span></li>
                            {{#each products}}
                            <li><span style="width: 3rem;" >{{this.product.productname}} </span> <span>{{product.price}}</span> <span>₹ {{this.subtotal}}</span></li>
                            {{/each}}
                            
                            <li><span>Subtotal</span> <span>{{total}}</span></li>

                            <li><span>Shipping</span> <span>Free</span></li>
                            <li><span>Discount</span> <span style="color: rgb(13, 211, 13);">₹{{discount}}</span></li>
                            <li><span>Total</span> <span>₹ {{total}}</span></li>
                        </ul>
                        </div>
                   
                      
            



                            <div class="checkout__input__checkbox">
                                <label>
                                
                                    <input name="payment_method" type="radio" id="payment" value="cod" checked>
                                    <span class="checkmark"></span>
                                    COD
                                </label>
                            </div>
                             <div class="checkout__input__checkbox">
                                <label>
                                    
                                    <input name="payment_method" type="radio" value="PayPal">
                                    <span class="checkmark"></span>
                                    PayPal
                                </label>
                                <div id="paypal-button-container"></div>
                            </div>
                            <div class="checkout__input__checkbox">
                                <label >
                                    
                                    <input name="payment_method" type="radio" value="razorpay">
                                    <span class="checkmark"></span>
                                    RazorPay
                                </label>
                            </div>
                        
                         <input type="text" name="userId" id="" value="{{user._id}}" hidden>
                            <button style="background-color: #0315ff;color: aliceblue;" type="submit"  onclick="return validation()" class="btn essence-btn">PLACE ORDER</button>

                    </div>
                    
                </div>
                
            </div>
        </div>
    </div>
    </form>
    <!-- ##### Checkout Area End ##### -->

    <!-- ##### Footer Area Start ##### -->
    <footer class="footer_area clearfix">
        <div class="container">
            <div class="row">
                <!-- Single Widget Area -->
                <div class="col-12 col-md-6">
                    <div class="single_widget_area d-flex mb-30">
                        <!-- Logo -->
                        <div class="footer-logo mr-50">
                            <a href="#"><img src="img/core-img/logo2.png" alt=""></a>
                        </div>
                        <!-- Footer Menu -->
                     
                    </div>
                </div>
                

            

            
        </div>


    </footer>
    <!-- ##### Footer Area End ##### -->

    <!-- jQuery (Necessary for All JavaScript Plugins) -->
    <script src="js/jquery/jquery-2.2.4.min.js"></script>
    <!-- Popper js -->
    <script src="js/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Plugins js -->
    <script src="js/plugins.js"></script>
    <!-- Classy Nav js -->
    <script src="js/classy-nav.min.js"></script>
    <!-- Active js -->
    <script src="js/active.js"></script>
   
</body>

</html>



<script>
    var errorEmail = document.getElementById('emailSpan')
    var errorName = document.getElementById('nameSpan')
    var errorAddress = document.getElementById('addressSpan')
    var errorPhone = document.getElementById('phoneSpan')
    var errorPincode = document.getElementById('pincodeSpan')
    function validEmail() {
        const name = document.getElementById('email').value
        if (name == "") {
            errorEmail.innerHTML = "enter you email address"
            return false
        }
        if (!name.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)) {
            errorEmail.innerHTML = 'enter a proper email adress'
            return false
        }
        errorEmail.innerHTML = null
        return true
    }
    function validAddress() {
        const name = document.getElementById('addresss').value
        if (name == "") {
            errorAddress.innerHTML = "address cannot be empty"
            return false
        } else if (name.length < 5) {
            errorAddress.innerHTML = "enter a valid address"
            return false
        }
        errorAddress.innerHTML = null
        return true
    }
    function validName() {
        const name = document.getElementById('name').value
        if (name == "") {
            errorName.innerHTML = "name cannot be empty"
            return false
        } else if (name.length < 3) {
            errorName.innerHTML = "enter a valid name"
            return false
        }
        errorName.innerHTML = null
        return true
    }
    function validPhone() {
        const name = document.getElementById('phone').value
        if (name == "") {
            errorPhone.innerHTML = "phone number cannot be empty"
            return false
        } else if (name.length < 10) {
            errorPhone.innerHTML = "enter a valid phone"
            return false
        }
        errorPhone.innerHTML = null
        return true
    }
    function validPincode() {
        const name = document.getElementById('pincode').value
        if (name == "") {
            errorPincode.innerHTML = "pincode cannot be empty"
            return false
        } else if (name.length < 3) {
            errorPincode.innerHTML = "enter a valid pin"
            return false
        }
        errorPincode.innerHTML = null
        return true
    }
    function validation() {
        if (!validEmail() && !validAddress() && !validName() && !validPhone() && !validPincode()) {
            return false
        } else if (!validEmail() || !validAddress() || !validName() || !validPincode() || !validPhone()) {
            return false
        } else { return true }
    }
</script>